# Iris的表达式（Expression）
>表达式是*Iris*的基本语法单位，*Iris*的表达式包括**字面量、赋值表达式、一元表达式、二元表达式、自运算赋值表达式、索引表达式、方法调用表达式、成员引用表达式、域表达式、数组表达式和Hash表达式**。下面进行逐一的介绍。

<span id="s1"/>
## 1. 字面量
目前版本下的*Iris*拥有3种字面量，分别为整数字面量、浮点数字面量、字符串字面、true、false、nil，这些字面量分别是*Iris*内置的*Integer、Float、String、TrueClass、FlaseClass、NilClass*类的对象。

>**整数字面量**的表达形式为：[+/-]整数值，比如10、-23、+8等；  
>**浮点数字面量**的表达形式为：[+/-]小数值，比如1.37、-3.14、0.0等；  
>**字符串字面量**的表达形式为："字符串内容"，比如"Hello,World!"；  
>**true、false、nil**：用于表示真、假以及空的概念。

注意由于当前版本的Iris并没有实现大数，因此整数的范围是您所在环境下编译*Iris*的C\+\+编译器一个*int*类型值的范围、浮点数的范围是您所在环境下编译*Iris*的一个*double*类型值的范围。

字面量是写出来了就会被解释器自动解释为对应类的对象的值。

<span id="s2"/>
## 2. 赋值表达式
赋值表达式是让指定变量有值的表达式。关于Iris的变量将会在后面介绍。

赋值表达式的形式为：
>变量名 = 值。  

比如

```
a = 10
```
<span id="s3"/>
## 3. 一元表达式
一元表达式指的是对运算符所接受的运算对象只有一个的表达式。在Iris中共有四种一元表达式。
>1. 逻辑非：表达形式为 !值，比如 !true;
>2. 按位非：表达形式为 ~值，比如 ~1;
>3. 取负：表达形式为 –值，比如 –a;
>4. 取正：表达形式为 +值，比如 +10;

需要注意的是，在*Iris*中，一元表达式的执行都会被转换为运算符操作对象调用对应的运算符名的方法的形式。因此*Iris*的类是可以重载着一元运算符的。

<span id="s4"/>
## 4. 二元表达式
二元表达式指的是运算符所接受的运算对象有两个的表达式。在*Iris*中有21种二元运算符，其中又分为算术运算符、逻辑运算符、关系运算符、位运算符四类。
>1. 算术运算符：+（加）、-（减）、\*（乘）、/（除）、\*\*（乘方）、%（取模）；
>2. 逻辑运算符：&&（逻辑与）、||（逻辑或）；
>3. 关系运算符：>（大于）、>=（大于等于）、<（小于）、<=（小于等于）、==（等于）、!=（不等于）；
>4. 位运算符：&（按位与）、|（按位或）、^（按位异或）、<<（算术左移）、>>（算术右移）、<<<（逻辑左移）、>>>（逻辑右移）；

二元表达式的形式是：

>值 操作符 值。

需要注意的是，在*Iris*中，二元表达式的执行都会被转换为运算符操作的左对象调用对应的运算符名的方法的形式，它具有一个参数，这个参数是右对象。*因此Iris的类是可以重写二元运算符的*。

<span id="s5"/>
## 5. 自运算赋值表达式
自运算赋值表达式是赋值表达式和二元表达式结合的糖衣语法，设op为某一二元运算符，则自运算赋值表达式等价于：
>;temp = left op right  
>;left = temp

目前*Iris*有12种自运算赋值表达式，分别为：

>+=、-=、*=、/=、%=、&=、|=、^=、<<=、>>=、<<<=、>>>=

<span id="s6"/>
## 6. 索引表达式
索引表达式的形式为：

>值[索引]。

任何一个重载了[]运算符类的对象都能够使用索引表达式，索引表达式常用于数组和Hash对象，用于依据索引来获取数组对应下标的值或者Hash中键对应的值。
比如：


```
;array = [1, 2, 3, 4] 
;print(array[2])	
```

需要注意的是，在*Iris*中，索引表达式的执行都会被转换为索引运算符操作的主对象调用"[]"方法的形式，它具有一个参数，这个参数是索引对象。**因此 *Iris*的类是可以重载"[]"运算符的**。同时如果是索引表达式的赋值的话，那么调用的就是"[]="方法了，同样的"[]="运算符也可以被重载。

<span id="s7"/>
## 7. 方法调用表达式
方法调用表达式是指对某一个方法进行调用的表达式，方法包括**全局方法、类方法和实例方法**。

*Iris*中任何一个方法都是*Method*类的对象，使用方法调用表达式，事实上会被隐式转换为对这个*Method*类对象的*call*()方法的调用——而从理论上讲*call*()方法又是对 *call*()方法这个对象的*call*()方法的调用……这样子看下去似乎永无止境了，但请放心，*Iris*内部对此做了一些小的调整，因此虽然表面上看起来是这个样子，但实际上并不会无限调用下去。

方法调用表达式的形式为：
>方法名([参数])。

<span id="s8"/>
## 8. 成员引用表达式
成员引用表达式是指对某个对象的内部公开成员的引用，这包括对象的公开属性以及对象的公开方法。对于*Iris*类的成员访问权限将会在后面介绍。

成员引用表达式的形式为：
>对象值.成员公开属性/对象值.成员公开方法()。

<span id="s9"/>
## 9. 数组表达式
严格来说，*Iris*的数组表达式也属于字面量，但是这里特别地分出来进行说明。*Iris*的数组是**对普通意义上数组的扩充**，比如*Iris*的数组没有"界"的概念，您可以任意地访问Iris数组的任何一个位置 __（这个位置上如果不存在任何元素，则数组将返回nil，同时将数组长度扩展到您访问的这个位置为止，并全部插入nil）__。关于详细的*Iris*数组内容将在后面介绍。

数组表达式也就是字面定义数组的表达式，其形式为：
>[元素1,元素2,…元素n[,]]。

<span id="s10"/>
## 10. Hash表达式
同样，严格来说，Iris的Hash表达式也属于字面量，这里同样特别地分出来进行说明。*Iris*的*Hash*由键值对构成，通过键能够获得相应的值，**如果不存在则返回nil**。

Hash表达式也就是字面定义Hash的表达式，其形式为：

>{键1=>值1, 键2=>值2,…, 键n=>值n[,]}。